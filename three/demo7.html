<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>初级-旋转的时钟</title>
    <style>
        body{
            margin: 0;
            background-color: #000;
            overflow: hidden;
        }
    </style>
</head>
<body onload="start();">
    <div id="body"></div>
<script src="build/three.min.js"></script>
<script src="js/libs/stats.min.js"></script>
<script src="javascript/block.js"></script>
<script>
    var camera,scene,renderer;
    var mesh;
    var texture;
    var stats;   //性能检测

    function start(){
        clock();
        init();
        animate();
    }

    function init(){
        renderer = new THREE.WebGLRenderer();
        renderer.setSize(window.innerWidth,window.innerHeight);
        document.body.appendChild(renderer.domElement);

        camera = new THREE.PerspectiveCamera(70,window.innerWidth/window.innerHeight,1,1000);
        camera.position.z = 400;
        scene = new THREE.Scene();

        var geometry = new THREE.CubeGeometry(150,150,150);
        texture = new THREE.Texture(canvas);
        var material = new THREE.MeshBasicMaterial({map:texture});
        texture.needsUpdate = true;
        mesh = new THREE.Mesh(geometry,material);
        scene.add(mesh);

        stats = new Stats();
        stats.domElement.style.position = 'absolute';
        stats.domElement.style.left = '0px';
        stats.domElement.style.top = '0px';
        document.getElementById('body').appendChild(stats.domElement);
    }

    function onWindowResize(){
        camera.aspect = window.innerWidth/window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
    }

    function animate(){
        texture.needsUpdate = true;
        mesh.rotation.y -= 0.01;
//        mesh.rotation.x -= 0.01;
        mesh.rotation.z -= 0.01;
        requestAnimationFrame( animate );
        renderer.render( scene, camera );
        stats.update();
    }
</script>
</body>
</html>